function startGame() {
  score = 0;
  timeLeft = 30;
  gameActive = true;
  scoreDisplay.textContent = "スコア: 0";
  timeDisplay.textContent = "残り: 30秒";

  // 「スコア」と「残り」以外を非表示に
  startBtn.style.display = "none";
  nameInput.style.display = "none";
  submitScoreBtn.style.display = "none";
  shareBtn.style.display = "none";
  document.getElementById("ranking").style.display = "none";

  target.style.display = "block";
  moveTarget();

  timerId = setInterval(() => {
    timeLeft--;
    timeDisplay.textContent = "残り: " + timeLeft + "秒";
    if (timeLeft <= 0) endGame();
  }, 1000);
}

function endGame() {
  clearInterval(timerId);
  gameActive = false;
  target.style.display = "none";

  // 元に戻す
  startBtn.textContent = "もう一度遊ぶ";
  startBtn.style.display = "block";
  nameInput.style.display = "block";
  submitScoreBtn.style.display = "block";
  shareBtn.style.display = "block";
  document.getElementById("ranking").style.display = "block";

  alert("ゲーム終了！あなたのスコアは " + score + " です！");
}
